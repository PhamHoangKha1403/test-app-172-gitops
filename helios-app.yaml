apiVersion: app.helios.io/v1alpha1
kind: HeliosApp
metadata:
  name: test-app-172
  namespace: default
spec:

  description: "Managed by Helios Operator"
  owner: 
  
  # Required Git/Docker Info
  imageRepo: phamhoangkha1403/test-app-172-service
  gitRepo: "https://github.com/PhamHoangKha1403/test-app-172.git"
  gitopsRepo: https://github.com/PhamHoangKha1403/test-app-172-gitops
  gitopsPath: "apps/test-app-172" # Assumed path
  
  # Webhook Config
  webhookDomain: unarriving-unrapturously-amia.ngrok-free.dev
  webhookSecret: "github-credentials-test-app-172"
  gitopsSecretRef: "github-credentials-test-app-172"

  components:
    - name: test-app-172-backend
      type: web-service
      properties:
        image: phamhoangkha1403/test-app-172-service:latest
        port: 8080
        replicas: 1
        env:
          - name: NODE_ENV
            value: "production"
      traits:
        - type: service
          properties:
            port: 8080
            targetPort: 8080
